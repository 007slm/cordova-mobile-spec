<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
  <!--
    This file is a fully-functioning example test case. Try opening this file in Firefox, Safari,
    or Internet Explorer to see what a running test looks like.
    This file demonstrates the components involved in writing a simple test, such as:
      * The necessary HTML to run a test (with the required <script> and <link rel="stylesheet"> tags),
      * A "custom matcher" (i.e., a custom assertion) to make your tests more readable,
      * And, a simple test with the necessary boiler-plate code to get you up and running.
    Typically, these components are separated out into multiple files. To see what a more typical suite
    of tests look like, look at the larger example in the examples/ directory.
  -->
  <head>
  	<meta http-equiv="Content-Type" content="text/html;charset=UTF-8" />
  	<title>JSSpec results for PhoneGap JS API</title>
    <!-- These are all of the necessary javascript and css files required to run your tests -->
    <link rel="stylesheet" type="text/css" href="JSSpec.css" />
	<script type="text/javascript" src="diff_match_patch.js"></script>
	<script type="text/javascript" src="JSSpec.js"></script>
    <script src="phonegap.js"></script>
    <script type="text/javascript">
describe('Device information (window.device)', {
	'Should contain a platform specification': function() {
		value_of(window.device.platform).should_have_at_least(1,"characters");
	},
	'Should contain a version specification': function() {
		value_of(window.device.version).should_have_at_least(1,"characters");
	},
	'Should contain a name specification': function() {
		value_of(window.device.name).should_have_at_least(1,"characters");
	},
	'Should contain a UUID specification': function() {
		value_of(window.device.uuid).should_have_at_least(1,"characters");
	}
})
describe('Accelerometer functionality (navigator.accelerometer)', {
	'Should have a getCurrentAcceleration function': function() {
		value_of(navigator.accelerometer).should_include("getCurrentAcceleration");
	},
	'Should have a watchAcceleration function': function() {
		value_of(navigator.accelerometer).should_include("watchAcceleration");
	},
	'Should have a clearWatch function': function() {
		value_of(navigator.accelerometer).should_include("clearWatch");
	}
})
describe('Camera functionality (navigator.camera)', {
	'Should have a getPicture function': function() {
		value_of(navigator.camera).should_include("getPicture");
	}
})
describe('Geolocation functionality (navigator.geolocation)', {
	'Should have an initially null lastPosition property': function() {
		value_of(navigator.geolocation.lastPosition).should_be_null(); 
	},
	'Should have a callbacks object': function() {
		value_of(navigator.geolocation).should_include("callbacks");
	},
	'Should have a getCurrentPosition function': function() {
		value_of(navigator.geolocation).should_include("getCurrentPosition");
	},
	'Should have a watchPosition function': function() {
		value_of(navigator.geolocation).should_include("watchPosition");
	},
	'Should return Position objects from its getCurrentPosition function': function() {
		var win = function(position) {
			value_of(position).should_not_be_null();
			value_of(position).should_include("coords");
			value_of(position).should_include("timestamp");
		};
		var fail = function() {
			// Force failure if failure callback? That *is* expected behaviour...
			// value_of(this).should_fail('');
		};
		navigator.geolocation.getCurrentPosition(win, fail, {});
	}
})
describe('Network functionality (navigator.network)', {
	'Should have a isReachable function': function() {
		value_of(navigator.network).should_include("isReachable");
	}
})
describe('Notification functionality (navigator.notification)', {
	'Should have a vibrate function': function() {
		value_of(navigator.notification).should_include("vibrate");
	},
	'Should have a beep function': function() {
		value_of(navigator.notification).should_include("beep");
	}
})
describe('Geolocation model', {
	'Should define a Position object with coords and timestamp properties': function() {
		var pos = new Position({});
		value_of(pos).should_not_be_null();
		value_of(pos).should_include("coords");
		value_of(pos).should_include("timestamp");
	},
	'Should define a Coordinates object with latitude, longitude, accuracy, altitude, heading and speed properties': function() {
		var coords = new Coordinates(1,2,3,4,5,6,7);
		value_of(coords).should_not_be_null();
		value_of(coords).should_include("latitude");
		value_of(coords).should_include("longitude");
		value_of(coords).should_include("altitude");
		value_of(coords).should_include("accuracy");
		value_of(coords).should_include("altaccuracy");
		value_of(coords).should_include("heading");
		value_of(coords).should_include("speed");
	}
})
describe('Media functionality', {
	'Should be able to create a Media object and instantiate its members': function() {
		var src = '/some/dir/test.mp3';
		var win = function() {};
		var fail = function() {};
		var m = new Media(src, win, fail);
		value_of(m).should_include("src");
		value_of(m).should_include("successCallback");
		value_of(m).should_include("errorCallback");
		value_of(m.src).should_be(src);
		value_of(typeof(m.play)).should_be("function");
		value_of(typeof(m.record)).should_be("function");
		value_of(typeof(m.pause)).should_be("function");
		value_of(typeof(m.stop)).should_be("function");
	},
	'Should throw an error when referencing a non-existent media file': function() {
	}
})
describe('File functionality (navigator.file)', {
	'Should include a read and write method': function() {
		value_of(navigator.file).should_include("read");
		value_of(navigator.file).should_include("write");
	}
})
describe('SMS functionality (navigator.sms)', {
	'Should have a send function': function() {
		value_of(navigator.sms).should_include("send");
	}
})
describe('Address Book functionality (navigator.AddressBook)', {
  'Should define the AddressBook with the CRUD functions' : function() {
	value_of(navigator.AddressBook).should_not_be_null();
    value_of(navigator.AddressBook).should_include('addContact');
    value_of(navigator.AddressBook).should_include('removeContact');
    value_of(navigator.AddressBook).should_include('findContacts'); 
  }
})
/**
 * Not sure whether this is necessary or whether it should be part of a mobile device API. Need to get more input on it.
 ** 
describe('Utility functionality (navigator.utility)', {
	'Should have a exit function': function() {
		value_of(navigator.utility).should_include("exit");
	}
})
*/
	</script>
	</head>
	<body>
	</body>
</html>
